(this["webpackJsonpstore-condinanzi-julieta"]=this["webpackJsonpstore-condinanzi-julieta"]||[]).push([[0],Array(21).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(15),r=c.n(a),i=(c(21),c(4)),o=(c(22),c(23),c(24),c.p+"static/media/coin.b8bc711d.svg"),d=c(0);function l(e){var t="button "+e.className;return"secondary"===e.type&&(t="button--secondary "+t),Object(d.jsxs)("button",{onClick:e.onClick,className:t,children:[e.text||e.children,e.showCoin?Object(d.jsx)("img",{className:"button--coin",src:o,alt:"coin"}):null]})}var u=c.p+"static/media/logo.b13161ae.svg",j=c(9);function b(e){return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("img",{className:"header--logo",src:u,alt:"Aerolab"}),Object(d.jsxs)("div",{className:"header--right",children:[Object(d.jsx)(j.b,{to:"/",className:"header--products",children:"Products"}),Object(d.jsx)(j.b,{to:"/history",className:"header--history",children:"History"}),Object(d.jsx)(j.b,{to:"/more-points",className:"header--more-points",children:"More Points"}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"header--user",children:e.name})}),Object(d.jsx)(l,{className:"header--button",type:"secondary",showCoin:!0,children:e.currentPoints})]})]})}c(34);var m=c.p+"static/media/header-x1.b6f067c6.png";function h(e){return Object(d.jsxs)("div",{className:"banner",children:[Object(d.jsx)("img",{className:"banner--img",src:m,alt:e.title}),Object(d.jsx)("div",{className:"banner--text",children:e.title})]})}c(35);function p(e){return Object(d.jsx)("div",{className:"label",children:e.visibleProductsAmount+(e.pageIndex-1)*e.productsPerPage+" of "+e.productsAmount+" results"})}c(36);function O(e){var t=Object(s.useState)(""),c=Object(i.a)(t,2),n=c[0],a=c[1],r=function(t){var c=t.target.textContent;a(c===n?"":t.target.textContent),e.sortProducts(t.target.textContent)};return Object(d.jsxs)("div",{className:"sorter",children:[Object(d.jsx)("div",{className:"sorter--separator"}),Object(d.jsx)("p",{className:"sorter--title",children:"Sort by:"}),Object(d.jsxs)("div",{className:"sorter--button",children:[Object(d.jsx)(l,{onClick:r,text:"Lowest price",type:"Lowest price"!==n?"secondary":""}),Object(d.jsx)(l,{onClick:r,text:"Highest price",type:"Highest price"!==n?"secondary":""})]})]})}c(37);var x=c.p+"static/media/arrow-left.0bb130fe.svg",g=c.p+"static/media/arrow-right.738af31d.svg";function f(e){return Object(d.jsxs)("div",{children:[e.pageIndex<=1?null:Object(d.jsx)("button",{onClick:function(){e.changePage.prev()},className:"pager--arrow-left",children:Object(d.jsx)("img",{className:"pager--arrow-img",src:x,alt:"previous"})}),e.pageIndex*e.productsPerPage<e.productsAmount?Object(d.jsx)("button",{onClick:function(){e.changePage.next()},className:"pager--arrow-right",children:Object(d.jsx)("img",{className:"pager--arrow-img",src:g,alt:"next"})}):null]})}c(38);function v(e){return Object(d.jsxs)("div",{className:"filters",children:[Object(d.jsxs)("div",{className:"filters--left",children:[Object(d.jsx)(p,{visibleProductsAmount:e.visibleProductsAmount,productsPerPage:e.productsPerPage,productsAmount:e.productsAmount,pageIndex:e.pageIndex}),Object(d.jsx)(O,{sortProducts:e.sortProducts})]}),Object(d.jsx)(f,{productsPerPage:e.productsPerPage,pageIndex:e.pageIndex,changePage:e.changePage,productsAmount:e.productsAmount})]})}c(39);var N=c.p+"static/media/buy-white.9b6e6567.svg",y=c.p+"static/media/buy-blue.c5c4f01c.svg";function P(e){var t=Object(s.useState)(!1),c=Object(i.a)(t,2),n=c[0],a=c[1],r=e.coinsAvailable-e.cost>=0;return Object(d.jsxs)("div",{className:"card",onMouseEnter:function(){a(!0)},onMouseLeave:function(){a(!1)},children:[Object(d.jsxs)("div",{className:"card--content",children:[r?Object(d.jsx)("img",{className:"card--buy-blue",src:y,alt:"icon"}):Object(d.jsxs)(l,{showCoin:!0,className:"card--buy-black",children:["Te faltan ",e.cost-e.coinsAvailable," "]}),Object(d.jsx)("img",{className:"card--img",src:e.img,alt:"producto"}),Object(d.jsx)("div",{className:"card--separator"}),Object(d.jsx)("div",{className:"card--category",children:e.category}),Object(d.jsx)("div",{className:"card--name",children:e.name})]}),r?Object(d.jsxs)("div",{className:"card--hover "+(n?"":"hidden"),children:[Object(d.jsx)("img",{className:"card--hover-buy-white",src:N,alt:"icon"}),Object(d.jsxs)("div",{className:"card--hover-content",children:[Object(d.jsx)("span",{className:"card--hover-price",children:e.cost}),Object(d.jsx)("img",{className:"card--hover-coin",src:o,alt:"coin"})]}),Object(d.jsx)("button",{className:"card--hover-button",onClick:function(){e.onRedeem(e.id)},children:"Redeem now"})]}):null]})}c(40);function I(e){return Object(d.jsx)("div",{className:"results",children:e.products.map((function(t){return Object(d.jsx)(P,{coinsAvailable:e.coinsAvailable,img:t.img.url,name:t.name,category:t.category,cost:t.cost,id:t._id,onRedeem:e.onRedeem},t.name)}))})}c(41);function M(e){return Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsx)(p,{visibleProductsAmount:e.visibleProductsAmount,productsAmount:e.productsAmount,pageIndex:e.pageIndex,productsPerPage:e.productsPerPage}),Object(d.jsx)(f,{pageIndex:e.pageIndex,productsPerPage:e.productsPerPage,changePage:e.changePage,productsAmount:e.productsAmount})]})}c(42);function A(e,t){var c=Object(s.useState)(1),n=Object(i.a)(c,2),a=n[0],r=n[1],o=Math.ceil(e.length/t);return{next:function(){r((function(e){return Math.min(e+1,o)}))},prev:function(){r((function(e){return Math.max(e-1,1)}))},jump:function(e){var t=Math.max(1,e);r((function(e){return Math.min(t,o)}))},currentData:function(){var c=(a-1)*t,s=c+t;return e.slice(c,s)},currentPage:a,maxPage:o}}function C(e){var t=Object(s.useState)([]),c=Object(i.a)(t,2),n=c[0],a=c[1],r=Object(s.useState)([]),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(s.useState)(""),b=Object(i.a)(j,2),m=b[0],h=b[1],p=A(m?l:n,16),O=p.next,x=p.prev,g=p.currentData,f=p.currentPage;return Object(s.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/products",{headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGJlOTgwMjliNzc4MTAwMjA5YzVhYzMiLCJpYXQiOjE2MjMxMDM0OTB9.yIxUJCcIxZDU-tJv_f7iNj91bg_kTg2TsgcL9WhB4SE"}}).then((function(e){return e.json()})).then((function(e){a(e)}))}),[]),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)(v,{pageIndex:f,changePage:{next:O,prev:x},sortProducts:function(e){if(m!==e){h(e);var t=[].concat(n);"Lowest price"===e?t.sort((function(e,t){return e.cost<t.cost?-1:0})):"Highest price"===e&&t.sort((function(e,t){return e.cost>t.cost?-1:0})),u(t)}else h("")},productsAmount:n.length,visibleProductsAmount:g().length,productsPerPage:16}),Object(d.jsx)(I,{coinsAvailable:e.coinsAvailable,products:g(),onRedeem:e.onRedeem}),Object(d.jsx)(M,{pageIndex:f,productsAmount:n.length,visibleProductsAmount:g().length,changePage:{next:O,prev:x},productsPerPage:16})]})}c(43);var J=c.p+"static/media/happy.9557bf2c.svg";function w(e){return Object(d.jsx)("div",{className:"products--modal",children:Object(d.jsxs)("div",{className:"products--modal--content",children:[Object(d.jsx)("img",{className:"products--modal--icon",src:J,alt:"happy"}),Object(d.jsx)("h1",{className:"products--modal--title",children:"Congratulations!"}),Object(d.jsx)("h3",{className:"products--modal--text",children:e.children}),Object(d.jsx)("button",{className:"products--modal--button",onClick:e.closeModal,children:"Accept"})]})})}function T(e){var t=Object(s.useState)(!1),c=Object(i.a)(t,2),n=c[0],a=c[1];return Object(d.jsxs)("div",{className:"products",children:[Object(d.jsx)(h,{title:"Products"}),Object(d.jsx)(C,{onRedeem:function(t){var c={productId:t};fetch("https://coding-challenge-api.aerolab.co/redeem",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGJlOTgwMjliNzc4MTAwMjA5YzVhYzMiLCJpYXQiOjE2MjMxMDM0OTB9.yIxUJCcIxZDU-tJv_f7iNj91bg_kTg2TsgcL9WhB4SE"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){e.onRedeem(),a(!0),document.body.className="no-scroll"}))},coinsAvailable:e.coinsAvailable}),n?Object(d.jsx)(w,{closeModal:function(){a(!1),document.body.className=""},children:"Your purchase was successful!"}):null]})}c(44);function z(e){var t=A(e.redeemHistory,5),c=t.currentData,s=t.currentPage,n=t.next,a=t.prev,r=c().map((function(e,t){return Object(d.jsxs)("li",{className:"history--list-item",children:[Object(d.jsx)("img",{src:e.img.url,className:"history--list-item-img",alt:"product"}),Object(d.jsx)("p",{children:e.name}),Object(d.jsx)(l,{showCoin:!0,className:"history--list-item-button",children:e.cost})]},t)}));return Object(d.jsxs)("div",{className:"history",children:[Object(d.jsx)(h,{title:"History"}),Object(d.jsx)("ul",{className:"history--list",children:r}),Object(d.jsxs)("div",{className:"history--footer",children:[Object(d.jsx)(p,{visibleProductsAmount:c().length,productsAmount:e.redeemHistory.length,pageIndex:s,productsPerPage:5}),Object(d.jsx)(f,{changePage:{next:n,prev:a},pageIndex:s,productsPerPage:5,productsAmount:e.redeemHistory.length})]})]})}c(45);var S=c.p+"static/media/trophy.5a3046d8.svg",k=c.p+"static/media/crown.c9996047.svg",Y=c.p+"static/media/star.c9a67916.svg";function E(e){var t=[1e3,5e3,7500],c=[Y,k,S];return Object(d.jsxs)("div",{className:"points-card",children:[Object(d.jsx)("img",{src:c[e.tier-1],className:"points-card--img",alt:"tier-icon"}),Object(d.jsxs)("h4",{className:"points-card--tier",children:["Tier ",e.tier]}),Object(d.jsx)(l,{className:"points-card--button",showCoin:!0,onClick:function(){e.addCoins(t[e.tier-1])},children:t[e.tier-1]})]})}c(46);function R(e){var t=Object(s.useState)(!1),c=Object(i.a)(t,2),n=c[0],a=c[1],r=function(t){e.addCoins(t),document.body.className="no-scroll",a(!0)};return Object(d.jsxs)("div",{className:"more-points",children:[Object(d.jsx)(h,{title:"More Points"}),Object(d.jsx)("h1",{className:"more-points--title",children:"Add More Points"}),Object(d.jsxs)("div",{className:"more-points--content",children:[Object(d.jsx)(E,{tier:"1",addCoins:r}),Object(d.jsx)(E,{tier:"2",addCoins:r}),Object(d.jsx)(E,{tier:"3",addCoins:r})]}),n?Object(d.jsx)(w,{closeModal:function(){a(!1),document.body.className=""},children:"Your points were added successully!"}):null]})}var L=c(2);var U=function(){var e=Object(s.useState)(0),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(i.a)(a,2),o=r[0],l=r[1],u=Object(s.useState)([]),m=Object(i.a)(u,2),h=m[0],p=m[1],O=function(){fetch("https://coding-challenge-api.aerolab.co/user/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGJlOTgwMjliNzc4MTAwMjA5YzVhYzMiLCJpYXQiOjE2MjMxMDM0OTB9.yIxUJCcIxZDU-tJv_f7iNj91bg_kTg2TsgcL9WhB4SE"}}).then((function(e){return e.json()})).then((function(e){n(e.points),l(e.name),p(e.redeemHistory.reverse())}))};return Object(s.useEffect)(O,[]),Object(d.jsx)("div",{className:"app",children:Object(d.jsxs)(j.a,{children:[Object(d.jsx)(b,{currentPoints:c,name:o}),Object(d.jsxs)(L.c,{children:[Object(d.jsx)(L.a,{path:"/history",children:Object(d.jsx)(z,{redeemHistory:h})}),Object(d.jsx)(L.a,{path:"/more-points",children:Object(d.jsx)(R,{addCoins:function(e){var t={amount:e};fetch("https://coding-challenge-api.aerolab.co/user/points",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGJlOTgwMjliNzc4MTAwMjA5YzVhYzMiLCJpYXQiOjE2MjMxMDM0OTB9.yIxUJCcIxZDU-tJv_f7iNj91bg_kTg2TsgcL9WhB4SE"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){n(e["New Points"])}))}})}),Object(d.jsx)(L.a,{path:"/",children:Object(d.jsx)(T,{onRedeem:function(){O()},coinsAvailable:c})})]})]})})};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(U,{})}),document.getElementById("root"))}]),[[47,1,2]]]);
//# sourceMappingURL=main.c29b9531.chunk.js.map